<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>InfoV</title>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script src="libraries/jquery-1.9.1.min.js"></script>
	<script src="libraries/processing-1.4.1.min.js"></script>
	<script src="libraries/moment.min.js"></script>
	<script src="Zeit_API_Request_Builder.js"></script>
	<script src="Initial_Requests.js"></script>
	
	<script type="text/javascript">

	// Main Programm, startet wenn inistial Request geladen sind.
	function mainProgramm(){
	
		$(document).ready(function(){
			
			var positionArray 	= new Array();
			var sketch 			= new Processing.Sketch();
			var x 				= $(window).width()/terrorArray.length;
			var scale 			= 1.00;
			var translateX 		= 5;
			var translateY		= 0;
			var sketchHeigth	= 500;

			for(var i=0; i < terrorArray.length; i++){
				positionArray.push([x]);
				x = x + ($(window).width()/terrorArray.length*.92);
			}
			
			$('#scale').change(function(){
				scale = this.value;
			});
			
			$('#translateX').change(function(){
				translateX = -this.value;
			});
			
			sketch.attachFunction = function(processing) {
				  
				  processing.setup = function() {
					processing.size($(window).width(),sketchHeigth);
					processing.noStroke();
					processing.smooth();
					processing.pushMatrix();
				  };
				  
				  processing.draw = function() {
						processing.background(235);
						processing.translate(0,sketchHeigth/2)
						processing.scale(scale);
						processing.translate(translateX,0);
						
						/*
						for(var i=0; i < terrorArray.length; i++){
							if(i%3 == 0){
								drawYear(processing,positionArray[i][0],translateY,terrorArray[i][0],terrorArray[i][1],wahlArray[i][1],angstArray[i][1],waffenArray[i][1]);
							}
							
							else if(i%3 == 1){
								//translateY = 150
								drawYear(processing,positionArray[i][0],translateY,terrorArray[i][0],terrorArray[i][1],wahlArray[i][1],angstArray[i][1],waffenArray[i][1]);
							}
							else{
								//translateY = -150
								drawYear(processing,positionArray[i][0],translateY,terrorArray[i][0],terrorArray[i][1],wahlArray[i][1],angstArray[i][1],waffenArray[i][1]);
							};
							translateY = 0;
						};
						*/
						for(var i=0; i < terrorArray.length; i++){
							drawYear(processing,positionArray[i][0],translateY,terrorArray[i][0],terrorArray[i][1],wahlArray[i][1],angstArray[i][1],waffenArray[i][1]);
						}
				  };
				  
			};

			var canvas = document.getElementById("myCanvas");
			// attaching the sketch to the canvas
			var p = new Processing(canvas, sketch);
			
		});
		
	};
	
	function drawYear(processing, startPointX, startPointY, year, value1, value2, value3, value4){
		processing.pushMatrix();
		processing.translate(startPointX,startPointY);
		processing.pushMatrix();
		processing.fill(98,14,15);
		processing.ellipse(0,0,40,40);
		processing.fill(255);
		processing.text(year,-13.5,3);
		processing.fill(255,0,0);
		//Value 1
		processing.strokeWeight(2);
		processing.stroke(33,51,49);
		processing.line(20,0,40,0);
		processing.translate(value1/2+40,0);
		processing.fill(33,51,49,40);
		processing.ellipseMode(processing.CENTER)
		processing.ellipse(0,0,value1,value1);
		processing.popMatrix();
		// Value 2
		processing.pushMatrix();
		processing.rotate(processing.HALF_PI);
		processing.strokeWeight(2);
		processing.stroke(224,209,163);
		processing.line(20,0,40,0);
		processing.translate(value2/2+40,0);
		processing.fill(224,209,163,40);
		processing.ellipseMode(processing.CENTER)
		processing.ellipse(0,0,value2,value2);
		processing.popMatrix();
		//Value 3
		processing.pushMatrix();
		processing.rotate(processing.PI);
		processing.strokeWeight(2);
		processing.stroke(94,125,77);
		processing.line(20,0,40,0);
		processing.translate(value3/2+40,0);
		processing.fill(94,125,77,40);
		processing.ellipseMode(processing.CENTER)
		processing.ellipse(0,0,value3,value3);
		processing.popMatrix();
		//Value 4
		processing.pushMatrix();
		processing.rotate(1.5*processing.PI);
		processing.strokeWeight(2);
		processing.stroke(199,66,35);
		processing.line(20,0,40,0);
		processing.translate(value4/2+40,0);
		processing.fill(199,66,35,40);
		processing.ellipseMode(processing.CENTER)
		processing.ellipse(0,0,value4,value4);
		processing.popMatrix();
		processing.popMatrix();
	};
	
	</script>
	
</head>
<body>
	<h2>Informationsvisualisierung</h2>
	<canvas id='myCanvas'></canvas>
	<div id="controls">
		<label for="scale">Vergrößern:</label>
		<input id="scale" type="range" min="1.00" max="4.00" step="0.01" value='1.00'>
		<label for="translateX">TranslateX:</label>
		<input id="translateX" type="range" min="1.00" max="1000.00" step="1.00" value='5.00'>
	</div>
</form>
</body>
</html>